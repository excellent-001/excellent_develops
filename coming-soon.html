<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coming Soon</title>
<style>
body { background: black; color: white; font-family: Arial, sans-serif; text-align: center; }
h1 { color: limegreen; text-shadow: 0 0 10px limegreen; }
form { margin-top: 20px; }
input, textarea { width: 80%; padding: 10px; margin: 8px 0; border: 1px solid limegreen; border-radius: 5px; }
button { background: limegreen; color: black; border: none; padding: 10px 20px; cursor: pointer; font-weight: bold; border-radius: 5px; }
.footer { margin-top: 30px; color: limegreen; font-size: 0.9em; }
.popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: limegreen; padding: 20px; border-radius: 8px; color: black; font-weight: bold; }
</style>
</head>
<body>
<h1 id="projectTitle">This project is coming soon...</h1>
<p>Tell me what you think about my portfolio and what you'd like to see.</p>

<form id="feedbackForm">
    <input type="text" id="name" placeholder="Your Name" required><br>
    <input type="email" id="email" placeholder="Your Email" required><br>
    <textarea id="message" placeholder="Your Message" required></textarea><br>
    <button type="submit">Send Feedback</button>
</form>

<div class="popup" id="popup">✅ Feedback Sent Successfully!</div>

<div class="footer">
    <p>Contact: your@email.com</p>
    <p>Follow: Twitter | Instagram | LinkedIn</p>
    <p>© Excellent Global Conception</p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
import { getFirestore, addDoc, collection, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
import emailjs from 'https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js';
emailjs.init("h5LWzY8YUESb4sZbS");

const firebaseConfig = {
    apiKey: "AIzaSyDoTlLIlOyoYiTZLQmzVcDro-cw9TCU9qI",
    authDomain: "excellent-d056e.firebaseapp.com",
    projectId: "excellent-d056e",
    storageBucket: "excellent-d056e.firebasestorage.app",
    messagingSenderId: "629984941607",
    appId: "1:629984941607:web:3d7fc2478f555d45a0e002",
    measurementId: "G-G3RCTDSY27"
};
const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

onAuthStateChanged(auth, user => {
    if (!user) window.location.href = "login.html";
});

document.getElementById("feedbackForm").addEventListener("submit", async (e) => {
    e.preventDefault();
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const message = document.getElementById("message").value.trim();

    try {
        await addDoc(collection(db, "feedback"), {
            name, email, message, createdAt: serverTimestamp()
        });
        await emailjs.send("service_cvvr3vn", "template_6xgms6a", { name, email, message });
        document.getElementById("popup").style.display = "block";
        setTimeout(() => document.getElementById("popup").style.display = "none", 3000);
        e.target.reset();
    } catch (err) {
        alert("Error sending feedback: " + err.message);
    }
});

document.getElementById("projectTitle").innerText = sessionStorage.getItem("projectName") + " is coming soon...";
</script>
</body>
</html>
