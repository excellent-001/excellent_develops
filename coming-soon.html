<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Coming Soon ‚Ä¢ Excellent_Develops</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <button onclick="logout()" class="btn" style="position:fixed;right:18px;top:18px">Sign out</button>

  <div class="container header-gap">
    <div class="card stack center-text">
      <h1 style="font-size:34px">üöß Coming Soon</h1>
      <p class="lead">This project page is under construction. Meanwhile, drop your feedback below ‚Äî I‚Äôd love to hear from you.</p>
    </div>

    <!-- Feedback -->
    <div class="card stack big-gap" style="max-width:720px; margin:28px auto 0">
      <h2>Send Feedback</h2>
      <form id="feedback-form" class="stack section-gap">
        <div class="grid grid-2">
          <div class="stack">
            <label class="label" for="fb-name">Full Name</label>
            <input class="input" id="fb-name" type="text" required/>
          </div>
          <div class="stack">
            <label class="label" for="fb-phone">Phone Number</label>
            <input class="input" id="fb-phone" type="tel" placeholder="+234..." required/>
          </div>
        </div>
        <div class="grid grid-2">
          <div class="stack">
            <label class="label" for="fb-email">Email</label>
            <input class="input" id="fb-email" type="email" required/>
          </div>
          <div class="stack">
            <label class="label" for="fb-topic">Topic (optional)</label>
            <input class="input" id="fb-topic" type="text" placeholder="e.g., Site design"/>
          </div>
        </div>
        <div class="stack">
          <label class="label" for="fb-msg">Message</label>
          <textarea class="input" id="fb-msg" rows="5" required placeholder="Share your thoughts..."></textarea>
        </div>
        <div id="fb-error" class="error"></div>
        <button class="btn" type="submit">Submit Feedback</button>
      </form>
    </div>

    <!-- Socials under the feedback (as you asked) -->
    <div class="card stack big-gap center-text" style="max-width:720px; margin:28px auto 0">
      <p class="lead">Connect with me:</p>
      <div class="socials" style="justify-content:center">
        <a class="icon-btn" href="https://wa.me/2349046463436" target="_blank">WhatsApp</a>
        <a class="icon-btn" href="https://www.facebook.com/EminiExcellent" target="_blank">Facebook</a>
        <a class="icon-btn" href="https://x.com/TheOlodo_Nation" target="_blank">X (Twitter)</a>
        <a class="icon-btn" href="https://www.linkedin.com/in/quareeb-jagun-448262310" target="_blank">LinkedIn</a>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div>Contact: quareebalabi22@gmail.com ‚Ä¢ +2349046463436 ‚Ä¢ +2348142370183</div>
      <div class="section-gap">Created by Excellent Global Conceptional 2025. Copyright ‚ÄúAll rights reserved‚Äù.</div>
    </div>
  </div>

  <!-- Success Modal -->
  <div id="ok-modal" class="modal" aria-hidden="true">
    <div class="modal-card stack center-text">
      <div style="font-size:42px">üëç</div>
      <h2>Thank you for your feedback!</h2>
      <p class="muted">We appreciate you.</p>
      <div class="grid grid-2 section-gap">
        <button class="btn" onclick="document.getElementById('ok-modal').classList.remove('open')">Close</button>
        <a class="btn ghost" href="portfolio.html">Return to Homepage</a>
      </div>
    </div>
  </div>

  <!-- Firebase + Feedback logic + Guard -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js";
    import { getAuth } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js";
    import { getFirestore, addDoc, collection, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js";
    import { firebaseConfig } from "./firebase-config.js";
    import "./auth-guard.js";

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    const form = document.getElementById('feedback-form');
    const err  = document.getElementById('fb-error');
    const modal= document.getElementById('ok-modal');

    form.addEventListener('submit', async (e)=>{
      e.preventDefault(); err.textContent="";
      const name  = document.getElementById('fb-name').value.trim();
      const phone = document.getElementById('fb-phone').value.trim();
      const email = document.getElementById('fb-email').value.trim();
      const topic = document.getElementById('fb-topic').value.trim();
      const msg   = document.getElementById('fb-msg').value.trim();

      try{
        await addDoc(collection(db, "feedback"), {
          name, phone, email, topic, message: msg,
          uid: auth.currentUser?.uid || null,
          createdAt: serverTimestamp()
        });
        form.reset();
        modal.classList.add('open');
      }catch(e){
        err.textContent = "Could not send feedback. Please try again.";
      }
    });
  </script>

  <script type="module" src="auth-guard.js"></script>
</body>
</html>
